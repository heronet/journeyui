<div class="container" *ngIf="hotel">
  <div class="img-container">
    <div class="img-preview-container">
      <img
        src="https://images.pexels.com/photos/1454806/pexels-photo-1454806.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1"
        alt="main-image"
      />
    </div>
    <div class="img-list">
      <img
        src="https://images.pexels.com/photos/1454806/pexels-photo-1454806.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1"
        alt="main-image"
      />
      <img
        src="https://images.pexels.com/photos/1454806/pexels-photo-1454806.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1"
        alt="main-image"
      />
      <img
        src="https://images.pexels.com/photos/1454806/pexels-photo-1454806.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1"
        alt="main-image"
      />
    </div>
  </div>
  <div class="categories">
    <div>
      <h3>Economy</h3>
      <span>1000 Taka</span>
      <p>Lorem ipsum dolor sit amet</p>
    </div>
    <div class="selected-category">
      <h3>Standard</h3>
      <span>2000 Taka</span>
      <p>Lorem ipsum dolor sit amet</p>
    </div>
    <div>
      <h3>Luxery</h3>
      <span>3000 Taka</span>
      <p>Lorem ipsum dolor sit amet</p>
    </div>
  </div>
  <div class="details">
    <p class="title">{{ hotel.title }}, {{ hotel.location }}</p>
    <p>See location on <a [href]="hotel.locationOnMap">Google Maps</a></p>
    <p>
      Contact:
      <a href="tel:{{ '0' + hotel.phone }}">{{ "0" + hotel.phone }}</a>
    </p>
    <p class="description">
      {{ hotel.description }}
    </p>
  </div>
  <div class="details">
    <div class="">Payment will go here</div>
  </div>
  <div class="ratings details">
    <div class="rate">
      <button
        class="btn"
        style="margin: 0 auto"
        *ngIf="!rateVisible"
        (click)="toggleRateVisible()"
      >
        Rate this hotel
      </button>
      <div class="stars" *ngIf="rateVisible">
        <svg
          class="star"
          xmlns="http://www.w3.org/2000/svg"
          [attr.fill]="addedStars > i ? 'currentColor' : 'none'"
          viewBox="0 0 24 24"
          stroke-width="1.5"
          stroke="currentColor"
          *ngFor="let each of [1, 1, 1, 1, 1]; let i = index"
          (click)="addStars(i + 1)"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            d="M11.48 3.499a.562.562 0 011.04 0l2.125 5.111a.563.563 0 00.475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 00-.182.557l1.285 5.385a.562.562 0 01-.84.61l-4.725-2.885a.563.563 0 00-.586 0L6.982 20.54a.562.562 0 01-.84-.61l1.285-5.386a.562.562 0 00-.182-.557l-4.204-3.602a.563.563 0 01.321-.988l5.518-.442a.563.563 0 00.475-.345L11.48 3.5z"
          />
        </svg>
      </div>
      <form
        class="add-comment"
        *ngIf="rateVisible"
        #f="ngForm"
        (ngSubmit)="addRating(f)"
      >
        <textarea
          type="text"
          placeholder="Write a review..."
          cols="3"
          name="text"
          ngModel
        ></textarea>
        <div>
          <button class="btn" type="submit" [disabled]="isLoading">
            Submit
          </button>
          <button
            class="btn danger"
            type="button"
            (click)="toggleRateVisible()"
            [disabled]="isLoading"
          >
            Cancel
          </button>
        </div>
      </form>
    </div>
    <div class="spacer" *ngIf="hotel.ratings!.length > 0"></div>
    <div class="rating" *ngFor="let rating of hotel?.ratings">
      <span class="username">{{ rating.userName }}</span>
      <div class="stars">
        <svg
          class="star"
          xmlns="http://www.w3.org/2000/svg"
          [attr.fill]="rating.stars > i ? 'currentColor' : 'none'"
          viewBox="0 0 24 24"
          stroke-width="1.5"
          stroke="currentColor"
          *ngFor="let each of [1, 1, 1, 1, 1]; let i = index"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            d="M11.48 3.499a.562.562 0 011.04 0l2.125 5.111a.563.563 0 00.475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 00-.182.557l1.285 5.385a.562.562 0 01-.84.61l-4.725-2.885a.563.563 0 00-.586 0L6.982 20.54a.562.562 0 01-.84-.61l1.285-5.386a.562.562 0 00-.182-.557l-4.204-3.602a.563.563 0 01.321-.988l5.518-.442a.563.563 0 00.475-.345L11.48 3.5z"
          />
        </svg>
      </div>
      <p class="comment">{{ rating.text }}</p>
    </div>
  </div>
</div>
